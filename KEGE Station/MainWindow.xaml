<Window x:Class="KEGE_Station.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:KEGE_Station"
        xmlns:userControls="clr-namespace:KEGE_Station.User_Controls"
        mc:Ignorable="d"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        ResizeMode="NoResize"
        Icon="/Resources/Icons/innerIcon.ico"
        Title="КЕГЭ" 
        Height="1080" Width="1920"
        MinHeight="1080" MinWidth="1920">
    <Window.Resources>

        <ControlTemplate x:Key="NoMouseOverButtonTemplate" TargetType="Button">
            <Border x:Name="InnerBorder"
                    Background="#ffffff"  
                    BorderBrush="#000000"  
                    BorderThickness="3"
                    CornerRadius="15">
                <ContentPresenter HorizontalAlignment="Center"  
                                  VerticalAlignment="Center" />
            </Border>

            <ControlTemplate.Triggers>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Background" Value="{x:Static SystemColors.ControlLightBrush}" />
                    <Setter Property="Foreground" Value="{x:Static SystemColors.GrayTextBrush}" />
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>

        <ControlTemplate x:Key="RedButton" TargetType="Button">

            <Border x:Name="InnerBorder"
                    Background="{TemplateBinding Background}"
                    BorderBrush="#000000"  
                    BorderThickness="3"
                    CornerRadius="15"
                    >
                <ContentPresenter HorizontalAlignment="Center"  
                  VerticalAlignment="Center" />
            </Border>

            <ControlTemplate.Triggers>
                <Trigger Property="IsEnabled" Value="True">
                    <Setter Property="Background" Value="#ffffff"/>
                </Trigger>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="Red"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>

        <Style TargetType="ScrollBar">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ScrollBar">
                        <Border CornerRadius="6" Background="#ededed" BorderBrush="#000000" BorderThickness="2">
                            <Grid>
                                <Track x:Name="PART_Track" IsDirectionReversed="true">
                                    <Track.Thumb>
                                        <Thumb>
                                            <Thumb.Template>
                                                <ControlTemplate TargetType="Thumb">
                                                    <Border CornerRadius="4" Background="#4dd49e" 
                                                     Margin="1" BorderBrush="#000000" BorderThickness="1"/>
                                                </ControlTemplate>
                                            </Thumb.Template>
                                        </Thumb>
                                    </Track.Thumb>
                                </Track>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    </Window.Resources>

    <Grid >
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="600"/>
        </Grid.ColumnDefinitions>

        <!-- Панель навигации -->
        <Border Grid.Column="1" Background="#2D6DFE">
            
            <StackPanel Width="460" 
                        Height="Auto" 
                        HorizontalAlignment="Center" 
                        VerticalAlignment="Center">

                <Button x:Name="Logo_btn"
                        Margin="0, 1, 0, 30"
                        Width="460" Height="111"
                        FontSize="32" FontWeight="SemiBold" FontFamily="/Resources/Fonts/#Inter"
                        Template="{StaticResource NoMouseOverButtonTemplate}"
                        Click="Logo_btn_Click"
                        Content="Главное меню">
                </Button>

                <Button x:Name="OpenGenerator_btn"
                        Content="Генератор"
                        Margin="0, 1, 0, 30"
                        Width="460" Height="111"
                        FontSize="32" FontWeight="SemiBold" FontFamily="/Resources/Fonts/#Inter"
                        Template="{StaticResource NoMouseOverButtonTemplate}"
                        Click="OpenGenerator_btn_Click"/>

                <Button x:Name="OpenEdit_btn"
                        Content="Редактировать вариант"
                        Margin="0, 0, 0, 30"
                        Width="460" Height="111"
                        FontSize="32" FontWeight="SemiBold" FontFamily="/Resources/Fonts/#Inter"
                        Template="{StaticResource NoMouseOverButtonTemplate}"
                        Click="OpenEdit_btn_Click"/>

                <Button x:Name="OpenResults_btn"
                        Content="Проверить результаты" 
                        Margin="0, 0, 0, 30"
                        Width="460" Height="111"
                        FontSize="32" FontWeight="SemiBold" FontFamily="/Resources/Fonts/#Inter"
                        Template="{StaticResource NoMouseOverButtonTemplate}"
                        Click="OpenResults_btn_Click"/>

                <Button x:Name="Exit_btn"
                        Content="Выход" 
                        Width="460" Height="111"
                        FontSize="32" FontWeight="SemiBold" FontFamily="/Resources/Fonts/#Inter"
                        Template="{StaticResource NoMouseOverButtonTemplate}"
                        Click="Exit_btn_Click"/>

            </StackPanel>
        </Border>

        <!-- Лого -->
        <Grid x:Name="Logo" Grid.Column="0" Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="140"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="8*"/>
            </Grid.RowDefinitions>

            <StackPanel Grid.Row="3" Orientation="Horizontal">
                <Image Source="/Resources/Icons/edusite_blue_logo.png" 
                       Height="1100" Width="1100"
                       Margin="490, -80, 0, 0"
                >
                    <Image.LayoutTransform>
                        <ScaleTransform ScaleX="-1" ScaleY="1"/>
                    </Image.LayoutTransform>
                </Image>
            </StackPanel>

            <TextBlock Grid.Row="0"
                       Text="Demid"
                       FontSize="80"
                       FontFamily="./Fonts/#Rajdhani"
                       FontWeight="Regular"
                       Foreground="#2D6DFE"
                       Margin="30, 40, 0, 0"
                       Grid.RowSpan="2"
            />

            <TextBlock Grid.Row="1"
                       Text="Информатика"
                       FontSize="120"
                       FontFamily="/Resources/Fonts/#Inter"
                       FontWeight="Regular"
                       Foreground="#000"
                       Margin="154,14,0,91" 
                       Grid.RowSpan="2"
            />

            <TextBlock Grid.Row="2"
                       x:Name="Logo_year"
                       Text="2026"
                       FontSize="90"
                       FontFamily="./Fonts/#Rajdhani"
                       FontWeight="Regular"
                       Foreground="#2D6DFE"
                       Margin="828, -30, 0, 0"
                       />
        </Grid>

        <!-- Панель генерации вариантов -->
        <Grid x:Name="GenerateOptionsPanel" Height="300" Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="360"/>
            </Grid.ColumnDefinitions>

            <Label Content="Введите количество вариантов:" Grid.Column="0" Grid.Row="0"
                   FontFamily="/Resources/Fonts/#Inter" FontSize="55" FontWeight="SemiBold"
                   VerticalAlignment="Center" Width="900"
                   Margin="60, 0, 0, 0"/>

            <Border Grid.Column="1" Grid.Row="0"
                    BorderBrush="#000000" BorderThickness="3" CornerRadius="15" 
                    Width="270" Height="90" Margin="0, 0, 85, 0">

                <TextBox x:Name="AmountOfOptions" Margin="10, 10" MaxLength="3"
                         FontFamily="/Resources/Fonts/#Inter" FontSize="70" FontWeight="SemiBold"
                         HorizontalContentAlignment="Center" VerticalContentAlignment="Center"
                         PreviewTextInput="AmountOfOptions_PreviewTextInput" BorderThickness="0"/>
            </Border>

            <Button x:Name="GenerateOptionsPanel_Generate_btn" Grid.Column="1" Grid.Row="1"
                    Width="270" Height="90" Margin="0, 0, 85, 0"
                    VerticalAlignment="Top"
                    Template="{StaticResource NoMouseOverButtonTemplate}"
                    Click="GenerateOptionsPanel_Generate_btn_Click">
                <Image Source="/Resources/Icons/lamp96x96.png" Height="60" Width="60"/>
            </Button>

            <Button x:Name="GenerateOptionsPanel_Back_btn" 
                    Width="270" Height="90" Margin="0, 0, 20, 0"
                    Grid.Column="0" Grid.Row="1" 
                    HorizontalAlignment="Right" VerticalAlignment="Top"
                    Template="{StaticResource NoMouseOverButtonTemplate}"
                    Click="GenerateOptionsPanel_Back_btn_Click">
                <Image Source="/Resources/Icons/back96x96.png" Height="50" Width="50"/>
            </Button>

        </Grid>

        <!-- Панель редактирования варианта -->
        <Grid x:Name="EditOptionPanel" Visibility="Visible">
            <StackPanel Height="1080">
                <StackPanel Orientation="Vertical">

                    <!-- Выбор варианта -->
                    <Label Content="Выберите вариант:"
                           FontFamily="/Resources/Fonts/#Inter" FontSize="40" FontWeight="SemiBold"
                           Margin="30, 20, 0, 0"/>

                    <StackPanel Orientation="Horizontal" Margin="20, 2, 0, 0">

                        <Border BorderBrush="#000000" BorderThickness="3" CornerRadius="15" 
                                Height="60" Width="1050">
                            <Label x:Name="_OptionPathLabel" Margin="10, 7" 
                                   FontFamily="/Fonst/#Inter" FontSize="25" FontWeight="SemiBold"
                                   HorizontalContentAlignment="Left" VerticalContentAlignment="Center"/>
                        </Border>

                        <Button x:Name="ChoiceOption"
                                Width="180" Height="55" Margin="30, 0"
                                Template="{StaticResource NoMouseOverButtonTemplate}"
                                Click="ChoiceOption_Click">
                            <Image Source="/Resources/Icons/select96x96.png" Height="40" Width="40"/>
                        </Button>
                    </StackPanel>

                    <!-- Разделитель -->
                    <Separator BorderThickness="4" BorderBrush="#000000" Margin="15, 30"/>

                    <!-- Заголовки -->

                    <userControls:OptionTaskHeader/>

                    <!-- Таблица заданий -->
                    <ScrollViewer x:Name="EditOptionPanel_ScrollViewer" Grid.Row="1"
                                  Height="610" Margin="20, 20, 10, 20"
                                  VerticalScrollBarVisibility="Auto"
                                  ScrollChanged="EditOptionPanel_ScrollViewer_ScrollChanged"
                                  PreviewMouseWheel="EditOptionPanel_ScrollViewer_PreviewMouseWheel">

                        <StackPanel x:Name="EditOptionPanel_TaskPanel" Margin="20, 10, 25, 10">

                        </StackPanel>

                    </ScrollViewer>

                    <!-- Рабочие кнопки -->
                    <Grid Grid.Row="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Button x:Name="EditOptionPanel_Erase_btn"
                                Grid.Column="0" Width="100" Height="100"
                                Margin="0 0 250 0"
                                Template="{StaticResource NoMouseOverButtonTemplate}"
                                Click="EditOptionPanel_Erase_btn_Click">
                            <Image Source="/Resources/Icons/erase96x96.png" Height="70" Width="70"/>
                        </Button>

                        <Button
                            x:Name="EditOptionPanel_Undo_btn"
                            Grid.Column="1" Width="100" Height="100"
                            Template="{StaticResource NoMouseOverButtonTemplate}"
                            Click="EditOptionPanel_Undo_btn_Click"
                            >
                            <Image Source="/Resources/Icons/undo96x96.png" Height="70" Width="70"/>
                        </Button>
                        
                        <Button x:Name="EditOptionPanel_Save_btn"
                                Grid.Column="2" Width="100" Height="100"
                                Margin="250 0 0 0"
                                Template="{StaticResource NoMouseOverButtonTemplate}"
                                Click="EditOptionPanel_Save_btn_Click">
                            <Image Source="/Resources/Icons/save96x96.png" Height="70" Width="70"/>
                        </Button>
                    </Grid>

                </StackPanel>
            </StackPanel>
        </Grid>

        <!-- Панель проверки результатов -->
        <Grid x:Name="CheckResultPanel" Visibility="Collapsed">
            <StackPanel Orientation="Vertical">

                <!-- Выбор варианта -->
                <Label Content="Выберите вариант:"
                       FontFamily="/Resources/Fonts/#Inter" FontSize="40" FontWeight="SemiBold"
                       Margin="30, 20, 0, 0"/>

                <StackPanel Orientation="Horizontal" Margin="20, 2, 0, 0">

                    <Border BorderBrush="#000000" BorderThickness="3" CornerRadius="15" 
                            Height="55" Width="1050">
                        <Label x:Name="RepositoryPath" Margin="10, 7"/>
                    </Border>

                    <Button x:Name="ChoiceRepository"
                            Width="180" Height="55" Margin="30, 0"
                            Template="{StaticResource NoMouseOverButtonTemplate}"
                            Click="ChoiceRepository_Click">
                        <Image Source="/Resources/Icons/select96x96.png" Height="40" Width="40"/>
                    </Button>
                </StackPanel>

                <!-- Разделитель -->
                <Separator BorderThickness="4" BorderBrush="#000000" Margin="15, 30"/>

                <!-- Таблица результатов -->
                <ScrollViewer x:Name="CheckResultPanel_ScrollViewer" Grid.Row="1"
                              Height="790" Margin="20, 20, 10, 20"
                              VerticalScrollBarVisibility="Auto"
                              ScrollChanged="CheckResultPanel_ScrollViewer_ScrollChanged"
                              PreviewMouseWheel="CheckResultPanel_ScrollViewer_PreviewMouseWheel">

                    <Grid x:Name="CheckResultPanel_ResultPanel" Margin="20, 10, 40, 10">

                    </Grid>

                </ScrollViewer>
            </StackPanel>
        </Grid>

    </Grid>
</Window>
